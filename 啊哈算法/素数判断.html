<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>素数判断</title>
    <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {inlineMath: [['$','$'], ['\(','\)']]}
});







    </script>
</head>
<body>
<script>

    function primeLinear(n) {
        if (n < 2)return false;//patch
        for (let i = 2; i <= n - 1; i++) {
            if (n % i === 0)
                return false;
        }
        return true;
    }
    function primeSqrt(n) {
        if (n < 2)return false;//patch
        for (let i = 2; i * i <= n; i++) {
            if (n % i === 0)
                return false;
        }
        return true;

    }
    function primeSqrt2(n) {
        if (n === 2)return true;
        if (n < 2 || n % 2 === 0)return false;
        for (let i = 3; i * i <= n; i += 2) {
            if (n % i === 0)return false;
        }
        return true;

    }


</script>
<h1>素数判断的方法</h1>
<ul>
    <li>枚举$2~n$ 复杂度$O(n)$</li>
    <pre>
        function primeLinear(n) {
        if (n < 2)return false;//patch
        for (let i = 2; i <= n - 1; i++) {//O(n)
            if (n % i === 0)
                return false;
        }
        return true;
    }
    </pre>
    <script>
        for (let i = 1; i <= 100; i++) {
            if (primeLinear(i)) document.write(i + " ");
        }

    </script>


    <li>枚举$ 2~-\sqrt{n}$ 复杂度 $ O(\sqrt{n})$</li>
    <pre>
    function primeSqrt(n) {
        if (n < 2)return false;//patch
        for (let i = 2,m=Math.floor(Math.sqrt(n)); i <=m; i++) {
            if (n % i === 0)
                return false;
        }
        return true;

    }

    </pre>
    <script>
        for (let i = 1; i <= 100; i++) {
            if (primeSqrt(i)) document.write(i + " ");
        }

    </script>

    <li>枚举$2~-sqrt(n）$复杂度$ O(\sqrt{n})$</li>
    <pre>
    function primeSqrt2(n) {
         if (n === 2)return true;
        if (n < 2 || n % 2 === 0)return false;
        for (let i = 3; i * i <= n; i += 2) {
            if (n % i === 0)return false;
        }
        return true;

    }

    </pre>
    <script>
        for (let i = 1; i <= 100; i++) {
            if (primeSqrt2(i)) document.write(i + " ");
        }

    </script>
    <li>筛法造表O(nlogn),判断只需要O(1)空间O(n)</li>
    <pre>
        let n = 100 + 1;
        let prime = new Array(n);
        //把1~n的所有的数都放入筛中
        for (let i = 0; i < n; i++)prime[i] = true;
        prime[0] = prime[1] = false;//删除0，1
        for (let i = 2; i * i <= n; i++) {
            for (let j = i * 2; j < n; j += i) {//保留i，i一定是素数，删除i的所有倍数
                prime[j] = false;
            }

        }
        for (let i = 0; i < n; i++) {
            if (prime[i])
                document.writeln(i + " ");
        }

    </pre>
    <script>
        let n = 100 + 1;
        let prime = new Array(n);
        //把1~n的所有的数都放入筛中
        for (let i = 0; i < n; i++)prime[i] = true;
        prime[0] = prime[1] = false;//删除0，1
        for (let i = 2; i * i <= n; i++) {
            for (let j = i * 2; j < n; j += i) {//保留i，i一定是素数，删除i的所有倍数
                prime[j] = false;
            }

        }
        for (let i = 0; i < n; i++) {
            if (prime[i])
                document.writeln(i + " ");
        }


    </script>

</ul>


</body>
</html>